<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Registro</title>
</head>
<body>
  <h1>Registro</h1>

  {% if form.non_field_errors %}
    <div>
      {% for err in form.non_field_errors %}<p style="color:red">{{ err }}</p>{% endfor %}
    </div>
  {% endif %}

  <form method="post" action="{% url 'accounts:register' %}">
    {% csrf_token %}

    <div>
      <label for="id_name">Nome completo</label>
      <input type="text" name="name" id="id_name" value="{{ form.data.name }}" required />
      {% for err in form.name.errors %}<p style="color:red">{{ err }}</p>{% endfor %}
    </div>

    <div>
      <label for="id_email">Email</label>
      <input type="email" name="email" id="id_email" value="{{ form.data.email }}" required />
      {% for err in form.email.errors %}<p style="color:red">{{ err }}</p>{% endfor %}
    </div>

    <div>
      <label for="id_user_type">Tipo de usuário</label>
      <select name="user_type" id="id_user_type" required>
        <option value="aluno" {% if form.data.user_type == "aluno" %}selected{% endif %}>Aluno</option>
        <option value="professor" {% if form.data.user_type == "professor" %}selected{% endif %}>Professor</option>
        <option value="pesquisador" {% if form.data.user_type == "pesquisador" %}selected{% endif %}>Pesquisador</option>
        <option value="outro" {% if form.data.user_type == "outro" %}selected{% endif %}>Outro</option>
      </select>
      {% for err in form.user_type.errors %}<p style="color:red">{{ err }}</p>{% endfor %}
    </div>

    <div>
      <label for="id_password">Senha</label>
      <input type="password" name="password" id="id_password" required />
      <small>Mín. 8, com maiúscula, minúscula, número e especial.</small>
      {% for err in form.password.errors %}<p style="color:red">{{ err }}</p>{% endfor %}
    </div>

    <div>
      <label for="id_password_confirmation">Confirmar Senha</label>
      <input type="password" name="password_confirmation" id="id_password_confirmation" required />
      {% for err in form.password_confirmation.errors %}<p style="color:red">{{ err }}</p>{% endfor %}
    </div>

    <button type="submit">Registrar</button>
  </form>

  <p><a href="{% url 'accounts:login' %}">Já tenho conta</a></p>
</body>
</html>
